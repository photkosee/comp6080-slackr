<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Slackr</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- You can add your styles and scripts here -->
  <link rel="stylesheet" type="text/css" media="screen" href="styles/provided.css" />
  <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
    rel="stylesheet" 
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
    crossorigin="anonymous"
  >
  <link 
    rel="stylesheet" 
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
  >
  <script type="module" src="src/helpers.js"></script>
</head>

<body>
  <header class="w-100 m-auto position-relative">
  </header>
  <main role="main">
    <!-- general purposes modal -->
    <div class="modal fade" id="popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="popup-title">
              Title
            </h5>

            <button type="button" class="btn btn-secondary" id="popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body" id="popup-detail">
            Detail
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" id="popup-close">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- join channel modal/form -->
    <div class="modal fade" id="join-channel-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              You are not a member
            </h5>

            <button type="button" class="btn btn-secondary" id="join-channel-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            Would you like to join this channel?
          </div>

          <div class="modal-footer" id="join-channel-submit">
            <button type="button" class="btn btn-success">
              Join
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- leave channel modal -->
    <div class="modal fade" id="leave-channel-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Confirm
            </h5>

            <button type="button" class="btn btn-secondary" id="leave-channel-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            Would you like to leave this channel?
          </div>

          <div class="modal-footer" id="leave-channel-submit">
            <button type="button" class="btn btn-danger" id="leave-channel-btn">
              Leave
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- edit channel details modal/form -->
    <div class="modal fade" id="edit-channel-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Channel Info
            </h5>

            <button type="button" class="btn btn-secondary" id="edit-channel-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form id="edit-channel-form">
              <label for="edit-channel-name" class="sr-only">Name</label>
              <input 
                type="text" 
                id="edit-channel-name" 
                class="form-control" 
                required 
                autofocus
              >

              <label for="edit-channel-des">Description</label>
              <textarea class="form-control" id="edit-channel-des" rows="2"></textarea>

              <div id="edit-channel-submit">
                <button class="btn btn-primary btn-block mt-4" type="submit">
                  Update detail
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- see channel details modal/form -->
    <div class="modal fade" id="see-channel-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Channel Info
            </h5>

            <button type="button" class="btn btn-secondary" id="see-channel-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form id="see-channel-form">
              <label for="see-channel-name" class="sr-only">Name</label>
              <input 
                type="text" 
                id="see-channel-name" 
                class="form-control" 
                disabled
              >

              <label for="see-channel-des">Description</label>
              <textarea 
                class="form-control" 
                id="see-channel-des" 
                rows="2"
                disabled
              ></textarea>

              <div class="form-check mt-1">
                <input 
                  class="form-check-input" 
                  type="checkbox" 
                  value="" 
                  id="see-channel-check" 
                  disabled
                >
                <label class="form-check-label" for="see-channel-check">
                  Private
                </label>
              </div>

              <div>
                <label for="see-channel-creator" class="sr-only">Created by</label>
                <input 
                  type="text" 
                  id="see-channel-creator" 
                  class="form-control" 
                  disabled
                >
              </div>

              <div>
                <label for="see-channel-time" class="sr-only">Created at</label>
                <input type="text" id="see-channel-time" class="form-control" disabled>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- adding a new channel modal/form -->
    <div class="modal fade" id="new-channel-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Add channel
            </h5>

            <button type="button" class="btn btn-secondary" id="new-channel-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form id="new-channel-form">
              <label for="new-channel-name" class="sr-only">Name</label>
              <input 
                type="text" 
                id="new-channel-name" 
                class="form-control" 
                required 
                autofocus
              >

              <label for="new-channel-des">Description</label>
              <textarea class="form-control" id="new-channel-des" rows="2"></textarea>

              <div class="checkbox mb-3">
                <label>
                  <input type="checkbox" id="new-channel-private"> Private
                </label>
              </div>

              <button class="btn btn-primary btn-block" type="submit">
                Add
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- invite user to a channel modal/from -->
    <div class="modal fade" id="invite-user-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Invite users
            </h5>

            <button type="button" class="btn btn-secondary" id="invite-user-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div class="form-group">
              <label for="multiselect" class="mb-1">
                Hold down the Ctrl (windows) or Command (Mac) button to select multiple users
              </label>
              <select class="form-control multiple" id="multiselect" multiple>
              </select>
            </div>
          </div>

          <div class="modal-footer" id="invite-channel-submit">
            <button type="submit" class="btn btn-primary" id="invite-user-submit-btn">
              Invite
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- edit user profile modal/form -->
    <div class="modal fade" id="edit-user-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Profile
            </h5>

            <button type="button" class="btn btn-secondary" id="edit-user-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form id="edit-user-form">
              <div class="d-flex justify-content-center">
                <input type="file" id="edit-user-image-input" accept="image/*" hidden />
                <label class="align-self-center" role="button" for="edit-user-image-input">
                  <img 
                    src="./assets/user-icon.png" 
                    id="edit-user-image" 
                    alt="user profile"
                    width="75" 
                    height="75" 
                    class="rounded-circle align-self-center" 
                    />
                </label>
              </div>

              <label for="edit-user-name" class="sr-only">Name</label>
              <input type="text" id="edit-user-name" class="form-control" required autofocus>

              <label for="edit-user-bio">Bio</label>
              <textarea class="form-control" id="edit-user-bio" rows="2"></textarea>

              <label for="edit-user-email" class="sr-only">Email</label>
              <input type="email" id="edit-user-email" class="form-control">

              <label for="edit-user-password" class="sr-only">New password</label>
              <div class="input-group">
                <input 
                  type="password" 
                  id="edit-user-password" 
                  class="form-control"
                >
                <span 
                  role="button" 
                  class="input-group-text bg-white" 
                  id="edit-user-toggle-password"
                >
                  <i class="bi bi-eye" id="eye"></i>
                </span>
              </div>

              <button 
                class="btn btn-primary btn-block mt-4" 
                type="submit" 
                id="edit-user-submit-btn"
              >
                Update detail
              </button>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- profile user page modal -->
    <div class="modal fade" id="profile-user-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Profile
            </h5>

            <button type="button" class="btn btn-secondary" id="profile-user-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div class="d-flex justify-content-center">
              <img 
                src="./assets/user-icon.png" 
                id="profile-image" 
                alt="profile image" 
                width="75" 
                height="75" 
                class="rounded-circle align-self-center"
              />
            </div>

            <label for="profile-user-name" class="sr-only">Name</label>
            <input type="text" id="profile-user-name" class="form-control" disabled>

            <label for="profile-user-bio">Bio</label>
            <textarea class="form-control" id="profile-user-bio" rows="2" disabled></textarea>

            <label for="profile-user-email" class="sr-only">Email</label>
            <input type="email" id="profile-user-email" class="form-control" disabled>            
          </div>
        </div>
      </div>
    </div>

    <!-- edit message modal/form -->
    <div class="modal fade" id="edit-message-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">
              Edit message
            </h5>

            <button type="button" class="btn btn-secondary" id="edit-message-popup-x">
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <form id="edit-message-form">
              <div class="d-flex gap-2 mt-2 justify-content-center">
                <input 
                  type="file" 
                  class="mt-2" 
                  id="edit-message-image-input" 
                  accept="image/*" 
                  hidden 
                />
                <label class="align-self-center" role="button" for="edit-message-image-input">
                  <img 
                    src="./assets/image-input.png" 
                    id="edit-message-image" 
                    alt="edit photo" 
                    width="50" 
                    height="50" 
                    class="align-self-center" 
                  />
                </label>

                <div role="button" class="btn align-self-center" id="close-edit-message-image">
                  <i class="bi bi-x-circle"></i>
                </div>
              </div>

              <label for="edit-message-message">Message</label>
              <textarea class="form-control" id="edit-message-message" rows="3"></textarea>

              <div id="edit-message-submit">
                <button class="btn btn-primary btn-block mt-4" type="submit">
                  Update message
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <!-- photo gallery modal -->
    <div class="modal fade" id="photo-message-popup" tabindex="-1">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="gallery-title">
              Gallery
            </h5>

            <button 
              type="button" 
              class="btn btn-secondary" 
              id="photo-message-popup-x"
            >
              <span>&times;</span>
            </button>
          </div>

          <div class="modal-body">
            <div id="gallery" class="carousel slide">
              <div class="carousel-inner" id="photo-slider">
              </div>

              <button 
                class="carousel-control-prev" 
                type="button" 
                data-bs-target="#gallery" 
                data-bs-slide="prev"
              >
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
              </button>

              <button 
                class="carousel-control-next" 
                type="button" 
                data-bs-target="#gallery" 
                data-bs-slide="next"
              >
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- dashboard page -->
    <div class="page-block position-relative" id="page-dashboard">
      <!-- side navbar -->
      <div class="bg-white" id="navbar">
        <div class="d-flex flex-column flex-shrink-0 p-3 justify-content-between side-nav">
          <div class="overflow-auto">
            <button class="btn py-0" id="home-btn">
              <h3>Slackr</h3>
            </button>

            <hr>

            <ul class="list-unstyled">
              <li class="mb-1">
                <button 
                  class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" 
                  data-bs-toggle="collapse" 
                  data-bs-target="#channel-collapse" 
                  aria-expanded="false"
                >
                  Public channels
                </button>

                <div class="collapse" id="channel-collapse">
                  <ul class="list-unstyled fw-normal pb-1 small" id="channel-list">
                  </ul>
                </div>

                <button 
                  class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed" 
                  data-bs-toggle="collapse" 
                  data-bs-target="#private-channel-collapse" 
                  aria-expanded="false"
                >
                  Private channels
                </button>

                <div class="collapse" id="private-channel-collapse">
                  <ul class="list-unstyled fw-normal pb-1 small" id="private-channel-list">
                  </ul>
                </div>
              </li>
            </ul>
          </div>

          <div class="dropdown">
            <button class="btn d-flex align-items-center gap-2" id="new-channel-btn">
              <i class="bi bi-plus-circle-dotted"></i>
              Add channel
            </button>

            <hr>

            <button 
              class="btn d-flex align-items-center dropdown-toggle gap-2" 
              data-bs-toggle="dropdown" 
              aria-expanded="false"
            >
              <img 
                src="./assets/user-icon.png"
                id="user-icon" 
                alt="user profile" 
                width="20" 
                height="20" 
                class="rounded-circle align-self-center" 
              />
              <strong id="user-name"></strong>
            </button>

            <ul class="dropdown-menu dropdown-menu text-small shadow">
              <li>
                <button class="dropdown-item btn d-flex align-items-center gap-2" id="set-alarm-btn">
                  <i class="bi bi-alarm my-auto"></i>
                  Set 1 minute alarm
                </button>
              </li>

              <li>
                <hr>
              </li>

              <li>
                <button class="dropdown-item btn d-flex align-items-center gap-2" id="edit-user-btn">
                  <i class="bi bi-gear my-auto"></i>
                  Edit profile
                </button>
              </li>

              <li>
                <hr>
              </li>

              <li>
                <button class="dropdown-item btn d-flex align-items-center gap-2" id="logout-btn">
                  <i class="bi bi-box-arrow-left my-auto"></i>
                  Logout
                </button>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <button 
        class="btn btn-light rounded-0 px-2 position-absolute h-100 z-2" 
        id="toggle-navbar"
      >
        <i class="bi bi-caret-left" id="toggle-navbar-arrow"></i>
      </button>

      <!-- single channel page -->
      <div class="w-100 d-flex">
        <div class="w-100 ms-4" id="channel-block">
          <div 
            class="h-100 d-flex flex-column flex-shrink-0 p-3 justify-content-between" 
            id="message-block"
          >
            <div class="h-75" id="channel-header">
              <div class="d-flex justify-content-between">
                <div class="d-flex gap-1">
                  <button 
                    class="btn d-flex align-items-center dropdown-toggle gap-2" 
                    data-bs-toggle="dropdown" 
                    aria-expanded="false"
                  >
                    <i class="bi bi-lock" id="channel-lock"></i>

                    <strong class="d-flex gap-2" id="channel-name">
                    </strong>
                  </button>

                  <ul 
                    class="dropdown-menu dropdown-menu text-small shadow" 
                    id="channel-btn-container"
                  >
                  </ul>

                  <button class="btn d-flex align-items-center gap-1" id="channel-info-btn">
                    Info
                    <i class="bi bi-info-circle"></i>
                  </button>
                </div>

                <button class="btn d-flex align-items-center gap-1" id="view-pin-message-btn">
                  Pinned
                  <i class="bi bi-pin-angle-fill"></i>
                </button>
              </div>

              <hr>

              <div class="h-100 overflow-auto" id="channel-body">
                <ul class="list-unstyled" id="message-list">
                </ul>
              </div>
            </div>

            <div>
              <hr>

              <form class="d-flex flex-row" id="send-message-form">
                <input type="file" id="message-image-input" accept="image/*" hidden />
                <label class="align-self-center" role="button" for="message-image-input">
                  <img 
                    src="./assets/image-input.png" 
                    id="input-image"
                    alt="input image" 
                    width="35" 
                    height="35" 
                    class="align-self-center" 
                  />
                </label>

                <div role="button" class="btn align-self-center" id="close-input-image">
                  <i class="bi bi-x-circle"></i>
                </div>

                <input 
                  type="text" 
                  id="message-input" 
                  placeholder="Message" 
                  class="form-control mx-1"
                  autofocus
                >
                
                <button type="submit" class="btn btn-primary ms-2" id="message-submit-btn">
                  <i class="bi bi-send-plus"></i>
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- login page -->
    <div class="form-wrapper page-block m-auto" id="page-login">
      <div class="row align-items-center justify-content-center form-container">
        <div class="col-md-12">
          <form id="login-form">
            <h1 class="mb-3 text-center font-weight-bold">Slackr</h1>

            <h4 class="h4 mb-3 fw-normal">Please login</h4>
        
            <div class="form-floating">
              <input 
                type="email" 
                class="form-control input-top" 
                id="login-email" 
                placeholder="name@example.com" 
                required
              >
              <label for="login-email">Email address</label>
            </div>

            <div class="form-floating">
              <input 
                type="password" 
                class="form-control input-bottom" 
                id="login-password" 
                placeholder="Password" 
                required
              >
              <label for="login-password">Password</label>
            </div>

            <button class="btn btn-primary w-100 py-2" type="submit">Login</button>
          </form>

          <button class="btn w-100 py-2 mt-2 direct" id="register-direct">
            Doesn't have an account?
          </button>
        </div>
      </div>
    </div>

    <!-- register page -->
    <div class="form-wrapper m-auto page-block" id="page-register">
      <div class="row align-items-center justify-content-center form-container">
        <div class="col-md-12">
          <form id="register-form">
            <h1 class="mb-3 text-center font-weight-bold">Slackr</h1>

            <h1 class="h3 mb-3 fw-normal">Please register</h1>
        
            <div class="form-floating">
              <input 
                type="email" 
                class="form-control input-top" 
                id="register-email" 
                placeholder="name@example.com" 
                required
              >
              <label for="register-email">Email address</label>
            </div>

            <div class="form-floating">
              <input 
                type="text" 
                class="form-control input-middle" 
                id="register-name" 
                placeholder="Password" 
                required
              >
              <label for="register-name">Name</label>
            </div>

            <div class="form-floating">
              <input 
                type="password" 
                class="form-control input-middle" 
                id="register-password" 
                placeholder="Password" 
                required
              >
              <label for="register-password">Password</label>
            </div>
            
            <div class="form-floating">
              <input 
                type="password" 
                class="form-control input-bottom" 
                id="register-confirm" 
                placeholder="Confirm password"
                required
              >
              <label for="register-confirm">Confirm password</label>
            </div>

            <button class="btn btn-primary w-100 py-2" type="submit">
              Register
            </button>
          </form>

          <button class="btn w-100 py-2 mt-2 direct" id="login-direct">
            Already have an account?
          </button>
        </div>
      </div>
    </div>
  </main>
  <script type="module" src="src/main.js"></script>
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" 
    crossorigin="anonymous"
  ></script>
</body>

</html>